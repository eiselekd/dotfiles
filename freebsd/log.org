
* T430s setup FreeBSD 11.0

** Install Windows Manager

#+BEGIN bash
portsnap fetch
portsnap extract
portsnap update
for d in x11/pixman x11/xorg x11-drivers/xf86-video-intel x11-wm/hs-xmonad-contrib x11-wm/hs-xmonad x11/xinit
do
   (cd $d; make install distclean)
done
#+END_SRC

/usr/local/lib/xorg/modules/driver/intel_drv.so => 
# sudo X -configure

 *** /usr/local/etc/X11/xorg.conf.d/20-intel.conf

Section "Device"
 Identifier "Intel IGP"
 Driver "intel"
 Option "AccelMethod" "SNA"
 Option "TearFree" "true"
EndSection

** ~/.xinitrc

#!/bin/sh

if [ -d /etc/X11/xinit/xinitrc.d ]; then
  for f in /etc/X11/xinit/xinitrc.d/*; do
    [ -x "$f" ] && . "$f"
  done
  unset f
fi

xsetroot -cursor_name left_ptr
setxkbmap -layout de

exec xmonad

** /etc/rc.conf

font8x8="iso15-8x8"
font8x14="iso15-8x14"
font8x16="iso15-8x16"

# xorg
hald_enable="YES"
dbus_enable="YES"
moused_enable="YES"

** /etc/sysctl.conf

# chromium:
kern.ipc.shm_allow_removed=1

** /boot/loader.conf

sem_load="YES"
linux_load="YES"
i915kms_load="YES"


* packages
 portsnap fetch
 portsnap extract
 cd /usr/ports/....; make install


* router-setup

* concole only:

$ cat /boot/loader.conf 
kern.geom.label.disk_ident.enable="0"
kern.geom.label.gptid.enable="0"
opensolaris_load="YES"
zfs_load="YES"
boot_multicons="YES"
boot_serial="YES"
comconsole_speed="115200"
console="comconsole,vidconsole"

** boot prompt (manual without loader.conf):
set boot_multicons="YES"
set boot_serial="YES"
set comconsole_speed="115200"
set console="comconsole,vidconsole"
boot

** sync rtc time:
sysctl machdep.disable_rtc_set

* links

firewall: https://www.freebsd.org/doc/handbook/firewalls-pf.html
https://teklager.se/en/best-free-linux-router-firewall-software-2019/
https://genneko.github.io/playing-with-bsd/system/learning-notes-on-jails/#creating-a-template
https://www.digitalocean.com/community/tutorials/how-to-configure-packet-filter-pf-on-freebsd-12-1

